{% extends 'core/base.html' %}
{% load static %}

{% block title %}Contact & Support | MediCare+{% endblock %}

{% block content %}

<!-- Contact Section -->
    <section id="contact-section" class="section">
        <div id="contact-container" class="container">
            <h2 id="contact-title" class="section-title">Contact & Support</h2>
            <p id="contact-subtitle" class="section-subtitle">We're here to help you 24/7</p>

            {% if messages %}
                <div id="contact-messages" class="messages">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Contact Options -->
            <div id="contact-options" class="contact-options">
                <div id="contact-phone-card" class="contact-option">
                    <div class="contact-icon">üìû</div>
                    <h3>Phone Support</h3>
                    <p id="contact-phone">+20-800-PHARMA</p>
                    <p>Available 24/7</p>
                </div>

                <div id="contact-email-card" class="contact-option">
                    <div class="contact-icon">‚úâÔ∏è</div>
                    <h3>Email Support</h3>
                    <p id="contact-email-info">support@medicare.com</p>
                    <p>Response in 24 hours</p>
                </div>

                <div id="contact-chat-card" class="contact-option">
                    <div class="contact-icon">üí¨</div>
                    <h3>Live Chat</h3>
                    <p>Chat with our team</p>
                    <button id="open-chat" type="button" class="btn btn-primary">Start Chat</button>
                </div>

                <div id="contact-consult-card" class="contact-option">
                    <div class="contact-icon">üë®‚Äç‚öïÔ∏è</div>
                    <h3>Consult Doctor</h3>
                    <p>Online consultation</p>
                    <button id="book-consult" type="button" class="btn btn-primary">Book Now</button>
                </div>
            </div>

            <!-- Contact Form and Live Chat -->
            <div id="contact-main" class="contact-container">
                <!-- Contact Form -->
                <div id="contact-form-box" class="contact-form-box">
                    <h3 id="send-message-title">Send Us a Message</h3>

                    <form id="contact-form" class="form" method="post" action="{% url 'contact' %}">
                        {% csrf_token %}
                        <div id="group-name" class="form-group">
                            <label for="name">Your Name *</label>
                            <input id="name" name="name" type="text" required="required" />
                        </div>

                        <div id="group-email" class="form-group">
                            <label for="contact-email">Email *</label>
                            <input id="contact-email" name="email" type="email" required="required" />
                        </div>

                        <div id="group-phone" class="form-group">
                            <label for="contact-phone-input">Phone Number</label>
                            <input id="contact-phone-input" name="phone" type="tel" />
                        </div>

                        <div id="group-subject" class="form-group">
                            <label for="subject">Subject *</label>
                            <select id="subject" name="subject" required="required">
                                <option value="">Select a subject</option>
                                <option value="order">Order Inquiry</option>
                                <option value="prescription">Prescription Question</option>
                                <option value="delivery">Delivery Issue</option>
                                <option value="product">Product Information</option>
                                <option value="complaint">Complaint</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div id="group-message" class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" rows="6" required="required"></textarea>
                        </div>

                        <button id="contact-submit" type="submit" class="btn btn-primary btn-large">Send Message</button>
                    </form>
                </div>

                <!-- Live Chat -->
                <div id="live-chat-box" class="live-chat-box">
                    <h3 id="live-chat-title">Live Chat Support</h3>

                    <div id="support-chat-container" class="chat-container">
                        <div id="support-chat-messages" class="chat-messages">
                            <div id="support-welcome" class="chat-message chat-message-support">
                                <strong>Support Team</strong>
                                <p>Hello! How can we help you today?</p>
                                <span class="chat-time">Now</span>
                            </div>
                        </div>

                        <form id="support-chat-form" class="chat-input-form" method="post" action="{% url 'support_chat' %}">
                            {% csrf_token %}
                            <input id="support-chat-input" name="message" type="text" placeholder="Type your message..." autocomplete="off" />
                            <button id="support-chat-send" type="submit" class="btn btn-primary">Send</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <div id="faq-section" class="faq-section">
                <h3 id="faq-title">Frequently Asked Questions</h3>

                <div id="faq-list" class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>How do I upload my prescription?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Go to the "Upload Prescription" page, fill in your details, and upload a clear image or PDF of your valid prescription. Our pharmacist will verify it within 2 hours.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>What are the delivery charges?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>We offer free delivery on orders over $50. For orders below $50, a delivery fee of $5 applies.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>How long does delivery take?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Standard delivery takes 2-3 business days. Express delivery options are available for selected areas with same-day delivery.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>Can I return medicines?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Due to safety regulations, we cannot accept returns on medicines. However, if you receive damaged or wrong products, please contact us within 24 hours for a replacement.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>Are your medicines genuine?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, we source all our medicines from licensed manufacturers and distributors. Every product is 100% genuine and verified by our licensed pharmacists.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>What payment methods do you accept?</h4>
                            <span class="faq-toggle">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>We accept Cash on Delivery (COD), Credit/Debit Cards, and Online Banking transfers. All online payments are processed securely.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}